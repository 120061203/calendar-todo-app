2025-08-31 19:13:33 [INFO]: Fetching all todos
2025-08-31 19:13:33 [INFO]: Successfully fetched 6 todos
2025-08-31 19:13:33 [INFO]: Fetching all todos
2025-08-31 19:13:33 [INFO]: Successfully fetched 6 todos
2025-08-31 19:13:33 [INFO]: Creating new todo: {"title":"新待辦事項"}
2025-08-31 19:13:33 [INFO]: Successfully created todo with id: 29
2025-08-31 19:13:33 [INFO]: Creating new todo: {"title":""}
2025-08-31 19:13:33 [WARN]: Todo validation failed: {"0":"標題不能為空"}
2025-08-31 19:13:33 [ERROR]: TodoService.createTodo error: Validation failed: 標題不能為空
Error: Validation failed: 標題不能為空
    at TodoService.createTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:49:15)
    at TodoController.createTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:46:38)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at middleware (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 19:13:33 [ERROR]: TodoController.createTodo error: Validation failed: 標題不能為空
Error: Validation failed: 標題不能為空
    at TodoService.createTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:49:15)
    at TodoController.createTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:46:38)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at middleware (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 19:13:33 [INFO]: Creating new todo: {"title":"新待辦事項"}
2025-08-31 19:13:33 [INFO]: Successfully created todo with id: 30
2025-08-31 19:13:33 [INFO]: Updating todo with id: 1 {"completed":true,"title":""}
2025-08-31 19:13:33 [WARN]: Todo update validation failed: {"0":"標題不能為空"}
2025-08-31 19:13:33 [ERROR]: TodoService.updateTodo error for id 1: Validation failed: 標題不能為空
Error: Validation failed: 標題不能為空
    at TodoService.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:80:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at TodoController.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:72:20)
2025-08-31 19:13:33 [ERROR]: TodoController.updateTodo error: Validation failed: 標題不能為空
Error: Validation failed: 標題不能為空
    at TodoService.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:80:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at TodoController.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:72:20)
2025-08-31 19:13:33 [INFO]: Updating todo with id: 1 {"title":"更新的標題","due_date":"2024-01-25"}
2025-08-31 19:13:33 [ERROR]: TodoRepository.update error: column "updated_at" of relation "todos" does not exist {"length":130,"name":"error","severity":"ERROR","code":"42703","position":"79","file":"analyze.c","line":"2536","routine":"transformUpdateTargetList"}
error: column "updated_at" of relation "todos" does not exist
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at TodoRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:73:22)
    at TodoService.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:83:27)
    at TodoController.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:72:20)
2025-08-31 19:13:33 [ERROR]: TodoService.updateTodo error for id 1: Failed to update todo
Error: Failed to update todo
    at TodoRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:78:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at TodoService.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:83:27)
    at TodoController.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:72:20)
2025-08-31 19:13:33 [ERROR]: TodoController.updateTodo error: Failed to update todo
Error: Failed to update todo
    at TodoRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:78:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at TodoService.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:83:27)
    at TodoController.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:72:20)
2025-08-31 19:13:33 [INFO]: Updating todo with id: 999 {"title":"更新的標題"}
2025-08-31 19:13:33 [WARN]: Todo with id 999 not found for update
2025-08-31 19:13:33 [INFO]: Updating todo with id: 1 {"title":"更新的標題"}
2025-08-31 19:13:33 [ERROR]: TodoRepository.update error: column "updated_at" of relation "todos" does not exist {"length":130,"name":"error","severity":"ERROR","code":"42703","position":"79","file":"analyze.c","line":"2536","routine":"transformUpdateTargetList"}
error: column "updated_at" of relation "todos" does not exist
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at TodoRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:73:22)
    at TodoService.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:83:27)
    at TodoController.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:72:20)
2025-08-31 19:13:33 [ERROR]: TodoService.updateTodo error for id 1: Failed to update todo
Error: Failed to update todo
    at TodoRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:78:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at TodoService.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:83:27)
    at TodoController.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:72:20)
2025-08-31 19:13:33 [ERROR]: TodoController.updateTodo error: Failed to update todo
Error: Failed to update todo
    at TodoRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:78:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at TodoService.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:83:27)
    at TodoController.updateTodo (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:72:20)
2025-08-31 19:13:33 [INFO]: Deleting todo with id: 1
2025-08-31 19:13:33 [INFO]: Successfully deleted todo with id: 1
2025-08-31 19:13:33 [INFO]: Deleting todo with id: 999
2025-08-31 19:13:33 [WARN]: Todo with id 999 not found for deletion
2025-08-31 19:13:33 [INFO]: Deleting todo with id: 1
2025-08-31 19:13:33 [WARN]: Todo with id 1 not found for deletion
2025-08-31 19:13:34 [INFO]: Fetching all events
2025-08-31 19:13:34 [INFO]: Successfully fetched 5 events
2025-08-31 19:13:34 [INFO]: Fetching all events
2025-08-31 19:13:34 [INFO]: Successfully fetched 5 events
2025-08-31 19:13:34 [INFO]: Creating new event: {"title":"新事件"}
2025-08-31 19:13:34 [INFO]: Successfully created event with id: 7
2025-08-31 19:13:34 [INFO]: Creating new event: {"title":""}
2025-08-31 19:13:34 [WARN]: Event validation failed: {"0":"標題不能為空"}
2025-08-31 19:13:34 [ERROR]: EventService.createEvent error: Validation failed: 標題不能為空
Error: Validation failed: 標題不能為空
    at EventService.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:49:15)
    at EventController.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:46:40)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at middleware (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 19:13:34 [ERROR]: EventController.createEvent error: Validation failed: 標題不能為空
Error: Validation failed: 標題不能為空
    at EventService.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:49:15)
    at EventController.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:46:40)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at middleware (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 19:13:34 [INFO]: Creating new event: {"title":"測試事件"}
2025-08-31 19:13:34 [WARN]: Event validation failed: {"0":"開始時間無效"}
2025-08-31 19:13:34 [ERROR]: EventService.createEvent error: Validation failed: 開始時間無效
Error: Validation failed: 開始時間無效
    at EventService.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:49:15)
    at EventController.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:46:40)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at middleware (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 19:13:34 [ERROR]: EventController.createEvent error: Validation failed: 開始時間無效
Error: Validation failed: 開始時間無效
    at EventService.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:49:15)
    at EventController.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:46:40)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at middleware (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 19:13:34 [INFO]: Creating new event: {"title":"測試事件"}
2025-08-31 19:13:34 [WARN]: Event validation failed: {"0":"結束時間無效"}
2025-08-31 19:13:34 [ERROR]: EventService.createEvent error: Validation failed: 結束時間無效
Error: Validation failed: 結束時間無效
    at EventService.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:49:15)
    at EventController.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:46:40)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at middleware (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 19:13:34 [ERROR]: EventController.createEvent error: Validation failed: 結束時間無效
Error: Validation failed: 結束時間無效
    at EventService.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:49:15)
    at EventController.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:46:40)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at middleware (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 19:13:34 [INFO]: Creating new event: {"title":"新事件"}
2025-08-31 19:13:34 [WARN]: Time conflict detected for new event
2025-08-31 19:13:34 [ERROR]: EventService.createEvent error: Event time conflicts with existing events
Error: Event time conflicts with existing events
    at EventService.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:60:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at EventController.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:46:21)
2025-08-31 19:13:34 [ERROR]: EventController.createEvent error: Event time conflicts with existing events
Error: Event time conflicts with existing events
    at EventService.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:60:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at EventController.createEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:46:21)
2025-08-31 19:13:34 [INFO]: Updating event with id: 1 {"title":"更新的事件","start_time":"2024-01-20T11:00:00Z","end_time":"2024-01-20T12:00:00Z"}
2025-08-31 19:13:34 [ERROR]: EventRepository.update error: column "updated_at" of relation "calendar_events" does not exist {"length":140,"name":"error","severity":"ERROR","code":"42703","position":"90","file":"analyze.c","line":"2536","routine":"transformUpdateTargetList"}
error: column "updated_at" of relation "calendar_events" does not exist
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at EventRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/EventRepository.js:73:22)
    at EventService.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:111:28)
    at EventController.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:79:21)
2025-08-31 19:13:34 [ERROR]: EventService.updateEvent error for id 1: Failed to update event
Error: Failed to update event
    at EventRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/EventRepository.js:78:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at EventService.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:111:28)
    at EventController.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:79:21)
2025-08-31 19:13:34 [ERROR]: EventController.updateEvent error: Failed to update event
Error: Failed to update event
    at EventRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/EventRepository.js:78:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at EventService.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:111:28)
    at EventController.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:79:21)
2025-08-31 19:13:34 [INFO]: Updating event with id: 999 {"title":"更新的事件"}
2025-08-31 19:13:34 [WARN]: Event with id 999 not found for update
2025-08-31 19:13:34 [INFO]: Updating event with id: 1 {"title":"更新的事件"}
2025-08-31 19:13:34 [ERROR]: EventRepository.update error: column "updated_at" of relation "calendar_events" does not exist {"length":140,"name":"error","severity":"ERROR","code":"42703","position":"90","file":"analyze.c","line":"2536","routine":"transformUpdateTargetList"}
error: column "updated_at" of relation "calendar_events" does not exist
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at EventRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/EventRepository.js:73:22)
    at EventService.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:111:28)
    at EventController.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:79:21)
2025-08-31 19:13:34 [ERROR]: EventService.updateEvent error for id 1: Failed to update event
Error: Failed to update event
    at EventRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/EventRepository.js:78:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at EventService.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:111:28)
    at EventController.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:79:21)
2025-08-31 19:13:34 [ERROR]: EventController.updateEvent error: Failed to update event
Error: Failed to update event
    at EventRepository.update (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/EventRepository.js:78:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at EventService.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/EventService.js:111:28)
    at EventController.updateEvent (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/EventController.js:79:21)
2025-08-31 19:13:34 [INFO]: Deleting event with id: 1
2025-08-31 19:13:34 [INFO]: Successfully deleted event with id: 1
2025-08-31 19:13:34 [INFO]: Deleting event with id: 999
2025-08-31 19:13:34 [WARN]: Event with id 999 not found for deletion
2025-08-31 19:13:34 [INFO]: Deleting event with id: 1
2025-08-31 19:13:34 [WARN]: Event with id 1 not found for deletion
2025-08-31 20:33:18 [INFO]: 🚀 Backend running on http://localhost:4000
2025-08-31 20:33:18 [INFO]: 🌍 Environment: production
2025-08-31 20:33:18 [INFO]: 📊 Database: db.ijtxwcxrfsbdqcokdyni.supabase.co:5432/postgres
2025-08-31 20:36:38 [INFO]: Received SIGINT. Starting graceful shutdown...
2025-08-31 20:37:04 [INFO]: 🚀 Backend running on http://localhost:4000
2025-08-31 20:37:04 [INFO]: 🌍 Environment: production
2025-08-31 20:37:04 [INFO]: 📊 Database: db.ijtxwcxrfsbdqcokdyni.supabase.co:5432/postgres
2025-08-31 20:39:05 [INFO]: Received SIGINT. Starting graceful shutdown...
2025-08-31 20:40:17 [INFO]: 🚀 Backend running on http://localhost:4000
2025-08-31 20:40:17 [INFO]: 🌍 Environment: production
2025-08-31 20:40:17 [INFO]: 📊 Database: db.ijtxwcxrfsbdqcokdyni.supabase.co:5432/postgres
2025-08-31 20:41:54 [INFO]: Received SIGINT. Starting graceful shutdown...
2025-08-31 20:44:35 [INFO]: 🚀 Backend running on http://localhost:4000
2025-08-31 20:44:35 [INFO]: 🌍 Environment: production
2025-08-31 20:44:35 [INFO]: 📊 Database: db.ijtxwcxrfsbdqcokdyni.supabase.co:5432/postgres
2025-08-31 20:50:15 [INFO]: Received SIGTERM. Starting graceful shutdown...
2025-08-31 20:50:26 [INFO]: 🚀 Backend running on http://localhost:4000
2025-08-31 20:50:26 [INFO]: 🌍 Environment: production
2025-08-31 20:50:26 [INFO]: 📊 Database: db.ijtxwcxrfsbdqcokdyni.supabase.co:5432/postgres
2025-08-31 20:51:25 [INFO]: Received SIGINT. Starting graceful shutdown...
2025-08-31 20:51:31 [INFO]: 🚀 Backend running on http://localhost:4000
2025-08-31 20:51:31 [INFO]: 🌍 Environment: production
2025-08-31 20:51:31 [INFO]: 📊 Database: db.ijtxwcxrfsbdqcokdyni.supabase.co:5432/postgres
2025-08-31 20:53:35 [INFO]: ::1 - - [31/Aug/2025:12:53:35 +0000] "GET /health HTTP/1.1" 503 184 "-" "curl/8.7.1"
2025-08-31 20:55:03 [INFO]: Fetching all todos
2025-08-31 20:55:05 [ERROR]: TodoRepository.findAll error: Connection terminated due to connection timeout {"cause":{}}
Error: Connection terminated due to connection timeout
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:13:22)
    at async TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:21)
    at async TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:21)
2025-08-31 20:55:05 [ERROR]: TodoService.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:17:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:21)
    at async TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:21)
2025-08-31 20:55:05 [ERROR]: TodoController.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:17:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:21)
    at async TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:21)
2025-08-31 20:55:05 [INFO]: ::1 - - [31/Aug/2025:12:55:05 +0000] "GET /api/todos HTTP/1.1" 500 67 "-" "curl/8.7.1"
2025-08-31 20:58:27 [INFO]: Received SIGINT. Starting graceful shutdown...
2025-08-31 20:58:30 [INFO]: 🚀 Backend running on http://localhost:4000
2025-08-31 20:58:30 [INFO]: 🌍 Environment: production
2025-08-31 20:58:30 [INFO]: 📊 Database: db.ijtxwcxrfsbdqcokdyni.supabase.co:5432/postgres
2025-08-31 20:59:08 [INFO]: ::1 - - [31/Aug/2025:12:59:08 +0000] "GET /health HTTP/1.1" 200 180 "-" "curl/8.7.1"
2025-08-31 20:59:32 [INFO]: Fetching all todos
2025-08-31 20:59:32 [INFO]: Successfully fetched 2 todos
2025-08-31 20:59:32 [INFO]: ::1 - - [31/Aug/2025:12:59:32 +0000] "GET /api/todos HTTP/1.1" 200 349 "-" "curl/8.7.1"
2025-08-31 20:59:37 [INFO]: Fetching all events
2025-08-31 20:59:37 [INFO]: Successfully fetched 2 events
2025-08-31 20:59:37 [INFO]: ::1 - - [31/Aug/2025:12:59:37 +0000] "GET /api/events HTTP/1.1" 200 381 "-" "curl/8.7.1"
2025-08-31 21:26:42 [INFO]: 🚀 Backend running on http://localhost:4000
2025-08-31 21:26:42 [INFO]: 🌍 Environment: production
2025-08-31 21:26:42 [INFO]: 📊 Database: db.ijtxwcxrfsbdqcokdyni.supabase.co:5432/postgres
2025-08-31 21:46:33 [INFO]: Received SIGTERM. Starting graceful shutdown...
2025-08-31 21:48:40 [INFO]: 127.0.0.1 - - [31/Aug/2025:13:48:40 +0000] "GET /health HTTP/1.1" 200 182 "-" "curl/8.7.1"
2025-08-31 21:48:45 [INFO]: Fetching all todos
2025-08-31 21:48:46 [INFO]: Successfully fetched 2 todos
2025-08-31 21:48:46 [INFO]: 127.0.0.1 - - [31/Aug/2025:13:48:46 +0000] "GET /api/todos HTTP/1.1" 200 349 "-" "curl/8.7.1"
2025-08-31 21:48:50 [INFO]: Fetching all events
2025-08-31 21:48:51 [INFO]: Successfully fetched 2 events
2025-08-31 21:48:51 [INFO]: 127.0.0.1 - - [31/Aug/2025:13:48:51 +0000] "GET /api/events HTTP/1.1" 200 381 "-" "curl/8.7.1"
2025-08-31 23:32:47 [INFO]: Fetching all todos
2025-08-31 23:32:47 [ERROR]: TodoRepository.findAll error: Cannot read properties of undefined (reading 'query')
TypeError: Cannot read properties of undefined (reading 'query')
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:13:33)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:32:47 [ERROR]: TodoService.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:17:13)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:32:47 [ERROR]: TodoController.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:17:13)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:33:21 [INFO]: Fetching all todos
2025-08-31 23:33:21 [ERROR]: TodoRepository.findAll error: Cannot read properties of undefined (reading 'query')
TypeError: Cannot read properties of undefined (reading 'query')
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:13:33)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:33:21 [ERROR]: TodoService.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:17:13)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:33:21 [ERROR]: TodoController.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:17:13)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:33:45 [INFO]: Fetching all todos
2025-08-31 23:33:45 [ERROR]: TodoRepository.findAll error: Cannot read properties of undefined (reading 'query')
TypeError: Cannot read properties of undefined (reading 'query')
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:13:33)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:33:45 [ERROR]: TodoService.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:27:13)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:33:45 [ERROR]: TodoController.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:27:13)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:34:35 [INFO]: Fetching all todos
2025-08-31 23:34:35 [ERROR]: TodoRepository.findAll error: Cannot read properties of undefined (reading 'query')
TypeError: Cannot read properties of undefined (reading 'query')
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:13:33)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:34:35 [ERROR]: TodoService.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:45:13)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:34:35 [ERROR]: TodoController.getAllTodos error: Failed to fetch todos
Error: Failed to fetch todos
    at TodoRepository.findAll (/Users/songlin.chen/Documents/calendar-todo-app/backend/repositories/TodoRepository.js:45:13)
    at TodoService.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/services/TodoService.js:10:42)
    at TodoController.getAllTodos (/Users/songlin.chen/Documents/calendar-todo-app/backend/controllers/TodoController.js:8:39)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/layer.js:95:5)
    at /Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/songlin.chen/Documents/calendar-todo-app/backend/node_modules/express/lib/router/index.js:280:10)
2025-08-31 23:35:27 [INFO]: Fetching all todos
2025-08-31 23:35:29 [INFO]: Successfully fetched 2 todos
2025-08-31 23:35:34 [INFO]: Fetching all events
2025-08-31 23:35:34 [INFO]: Successfully fetched 2 events
